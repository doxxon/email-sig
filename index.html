<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>The Mills Email Generator</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
  <style>
  .email-sig-markup, .mobile-email-sig-markup {
    font-size: 10px;
  }
  footer {
    font-size: 9px;
    text-align: center;
  }
  </style>

</head>
<body>

  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <div class="row">
        <div class="col-md-3 text-right">
          <img src="https://s3-ap-southeast-1.amazonaws.com/themills/themills-logo.png" alt="The Mills" border="0" class="sig-logo" height="90" width="90">
        </div>
        <div class="col-md-8">
          <h3 style="color: #666666; margin-top: 36px;">The Mills Email Signature Generator - v1.3</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-5">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-2 control-label">Name</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigName" placeholder="Name">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Title</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigTitle" placeholder="Title">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Office</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigOfficePhone" placeholder="Office Phone Number">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Mobile</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigMobilePhone" placeholder="Mobile Phone Number">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Address</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigAddress" placeholder="address" value="4th Floor, Cheung Hing Industrial Building, 12P Smithfield Road, Kennedy Town, Hong Kong">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Website</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigWebsite" placeholder="Website" value="http://themills.com.hk">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Facebook</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigFacebook" placeholder="facebook link" value="https://www.facebook.com/themillshk">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">LinkedIn</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigLinkedIn" placeholder="linkedin link" value="https://www.linkedin.com/company/the-mills-hk/">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Instagram</label>
            <div class="col-sm-10">
              <input class="form-control sig-input" data-name="sigInstagram" placeholder="instagram link" value="http://instagram.com/themillshk/">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Logo</label>
            <div class="col-sm-10">
              <label for="themills"><input type="radio" data-logo="true" name="logo-group" id="themills" value="themills" class="sig-input"> The Mills</label><br>
              <label for="gallery"><input type="radio" data-logo="true" name="logo-group" id="gallery"  value="gallery" class="sig-input"> Gallery</label><br>
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-1">
      </div>
      <div class="col-md-6">
        <br><br>
        <div class="email-sig-sample"><table border="0" cellpadding="0" width="450" style="table-layout:fixed">
            <tbody>
              <tr>
                <td class="logo-td" align="left" valign="top" width="110">
                  <p style="margin-right: 10px; font-family: Helvetica, Arial, sans-serif; font-size: 10px; line-height: 12px; margin-bottom: 10px;">
                    <a style="text-decoration:none" href="http://themills.com.hk" class="clink logo-container">
                      <img src="https://s3-ap-southeast-1.amazonaws.com/themills/themills-logo.jpg" alt="The Mills" border="0" class="sigLogo" height="114" width="90">
                    </a>
                  </p>
                </td>
                <td align="left" class="content-td" nowrap="nowrap" width="390">
                  <p style="font-family: Helvetica, Arial, sans-serif; font-size: 10px; line-height: 13px; color: rgb(33, 33, 33); margin-bottom: 10px;">
                    <span style="font-weight: bold; color: rgb(33, 33, 33); display: inline; font-size: 12px;" class="txt sigName sig-hide">Name</span>
                    <br>
                    <span style="color: rgb(33, 33, 33); display: inline;" class="txt sigTitle sig-hide">Title</span>
                    <span class="company-sep break" style="display: inline;"><br><br></span>
                    <span style="color: rgb(33, 33, 33); display: inline;" class="txt office-sep sep">O </span> <a style="color: rgb(33, 33, 33); display: inline;" class="txt sigOfficePhone sig-hide">2345 6789</a>

                    <span class="mobilePhoneWrapper"><span style="color: rgb(128, 128, 128)"> | </span><span style="color: rgb(33, 33, 33); display: inline;" class="txt office-sep sep">M </span> <span style="color: rgb(33, 33, 33); display: inline;" class="txt sigMobilePhone sig-hide"></span></span>


                    <span class="address-sep break" style="display: inline;"><br></span> <span style="color: rgb(33, 33, 33); display: inline;" class="txt sigAddress1 sig-hide">4th Floor, Cheung Hing Industrial Building, 12P Smithfield Road, Kennedy Town, Hong Kong</span>
                    <span class="website-sep break" style="display: inline;"><br></span>
                    <a class="link sigWebsite sig-hide" href="http://themills.com.hk" style="color: rgb(33,33,33); text-decoration: none; display: inline;">http://themills.com.hk</a>
                    <p class="social-list" style="font-size: 0px; line-height: 0; font-family: Helvetica, Arial, sans-serif">
                      <a style="text-decoration: none; display: inline;" class="social sigFacebook sig-hide" href="https://www.facebook.com/themillshk"><img style="margin-bottom:2px; border:none; display:inline;" height="24" width="24" data-filename="facebook.png" src="https://s3-ap-southeast-1.amazonaws.com/themills/fb.png" alt="Facebook"></a><span style="white-space:nowrap;" class="signature_facebook-sep"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span>
                      <a style="text-decoration: none; display: inline;" class="social sigLinkedIn sig-hide" href="https://www.linkedin.com/company/the-mills-hk/"><img style="margin-bottom:2px; border:none; display:inline;" height="24" width="24" data-filename="linkedin.png" src="https://s3-ap-southeast-1.amazonaws.com/themills/li.png" alt="LinkedIn"></a><span style="white-space:nowrap;" class="signature_linkedin-sep"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span>

                      <a style="text-decoration: none; display: inline;" class="social sigInstagram sig-hide" href="http://instagram.com/themillshk/"><img style="margin-bottom:2px; border:none; display:inline;" height="24" width="24" data-filename="instagram.png" src="https://s3-ap-southeast-1.amazonaws.com/themills/ig.png" alt="Instagram"></a><span style="white-space:nowrap;" class="signature_instagram-sep"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td colspan="2">
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- End sig sample -->
          <h3>Desktop Email Signature Html</h3>
          <textarea class="email-sig-markup" cols="80" rows="8" onClick="this.select();"></textarea>
          <!-- iPhone email sig sample -->
          <br><br><br>
          <div class="mobile-email-sig-sample">
              <div><span class="sigName">Name</span> | <span class="sigTitle">Title</span></div>
              <div>O <span class="sigOfficePhone">2345 6789</span> <span class="mobilePhoneWrapper"> | M <span class="sigMobilePhone"></span></span></div>
              <div><a class="sigWebsite" href="http://themills.com.hk">http://themills.com.hk</a></div>
              <div class="txt sigAddress1">4th Floor, Cheung Hing Industrial Building, 12P Smithfield Road, Kennedy Town, Hong Kong</div>
              <div><a class="sigFacebook" href="https://www.facebook.com/themillshk">Facebook</a> | <a class="sigLinkedIn" href="https://www.linkedin.com/company/the-mills-hk/">LinkedIn</a> | <a class="sigInstagram" href="http://instagram.com/themillshk/">Instagram</a></div>
          </div>
          <!-- End sig sample -->
          <h3>Mobile Email Signature Html</h3>
          <textarea class="mobile-email-sig-markup" cols="80" rows="8" onClick="this.select();"></textarea>
        </div>

      </div>

    </div>

    <div class="container">
      <hr>

      <footer>
        <p>&copy; The Mills 2015</p>
      </footer>
    </div> <!-- /container -->

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
  <script>
    $('document').ready(function(){


    $emailSigMarkup = $('.email-sig-markup');
    $mobileEmailSigMarkup = $('.mobile-email-sig-markup');
    $emailSigSample = $('.email-sig-sample');
    $mobileEmailSigSample = $('.mobile-email-sig-sample');
    $mobileSigWrapper = $('.mobilePhoneWrapper');
    mobileSigContent = $mobileSigWrapper.html();
    $mobileSigWrapper.html('');

    var fields = [
    'sigName',
    'sigTitle',
    'sigOfficePhone',
    'sigMobilePhone',
    'sigAddress',
    'sigWebsite',
    'sigFacebook',
    'sigLinkedIn',
    'sigInstagram',
    'sigLogo'
    ]

    loadFromLocalStorage = function() {
      var name, value, $target, $formTarget;
      fields.forEach( function(name) {
        value = localStorage.getItem(name);
        $formTarget = $('[data-name='+name+']');
        $target = $('.'+name);
        if (value) {
          $formTarget.val(value);
          updateField(name, value, $target);
        }

        if (name=='sigLogo' && !value){
          localStorage.setItem('sigLogo', 'themills');
        }

        if (name=='sigLogo') {
          $("input:radio[id='"+value+"']").attr('checked', true);
        }

      });
    }

    updateMarkup = function() {
      $emailSigMarkup.html($emailSigSample.html());
      $mobileEmailSigMarkup.html($mobileEmailSigSample.html());
    }
    
    updateField = function(name, value, $target) {
      if (name == 'sigFacebook' || name == 'sigLinkedIn' || name == 'sigInstagram') {
        $target.attr('href', value);
      } else if (name=='sigLogo') {
        $target.attr('src', 'https://s3-ap-southeast-1.amazonaws.com/themills/' + value + '-logo.jpg');
      } else {
        if (name == 'sigWebsite') {
          $target.attr('href', value);
        }
        if (name == 'sigMobilePhone') {
          if (value == ''){
            $mobileSigWrapper.html('');
          } else {
            $mobileSigWrapper.html(mobileSigContent);
            var $target = $('.'+name);
          }
        }
        $target.html(value);
      }
    }

    $('.sig-input').on('keyup click', function(e) {
      if ($(e.currentTarget).data('logo')) {
        var name = "sigLogo";
        var value = $("input:radio[name='logo-group']:checked").val();
      } else {
        var name = $(e.currentTarget).data('name');
        var value = $(e.currentTarget).val();
      }

      var $target = $('.'+name);
      updateField(name,value,$target);
      // update localstorage
      localStorage.setItem(name, value);
      updateMarkup();
    });

    // load from localStorage
    loadFromLocalStorage();

    // initialize data
    updateMarkup();

  });
  </script>
</body>
</html>